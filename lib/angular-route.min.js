!function(e,t){"use strict";function i(e,i,n){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(a,r,o,s,l){function u(){p&&(n.cancel(p),p=null),f&&(f.$destroy(),f=null),d&&(p=n.leave(d),p.then(function(){p=null}),d=null)}function c(){var o=e.current&&e.current.locals;if(t.isDefined(o&&o.$template)){var o=a.$new(),s=e.current;d=l(o,function(e){n.enter(e,null,d||r).then(function(){!t.isDefined(h)||h&&!a.$eval(h)||i()}),u()}),f=s.scope=o,f.$emit("$viewContentLoaded"),f.$eval(v)}else u()}var f,d,p,h=o.autoscroll,v=o.onload||"";a.$on("$routeChangeSuccess",c),c()}}}function n(e,t,i){return{restrict:"ECA",priority:-400,link:function(n,a){var r=i.current,o=r.locals;a.html(o.$template);var s=e(a.contents());if(r.controller){o.$scope=n;var l=t(r.controller,o);r.controllerAs&&(n[r.controllerAs]=l),a.data("$ngControllerController",l),a.children().data("$ngControllerController",l)}n[r.resolveAs||"$resolve"]=o,s(n)}}}var a=t.module("ngRoute",["ng"]).provider("$route",function(){function e(e,i){return t.extend(Object.create(e),i)}function i(e,t){var i=t.caseInsensitiveMatch,n={originalPath:e,regexp:e},a=n.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[\?\*])?/g,function(e,t,i,n){return e="?"===n||"*?"===n?"?":null,n="*"===n||"*?"===n?"*":null,a.push({name:i,optional:!!e}),t=t||"",""+(e?"":t)+"(?:"+(e?t:"")+(n&&"(.+?)"||"([^/]+)")+(e||"")+")"+(e||"")}).replace(/([\/$\*])/g,"\\$1"),n.regexp=new RegExp("^"+e+"$",i?"i":""),n}var n={};this.when=function(e,a){var r=t.copy(a);if(t.isUndefined(r.reloadOnSearch)&&(r.reloadOnSearch=!0),t.isUndefined(r.caseInsensitiveMatch)&&(r.caseInsensitiveMatch=this.caseInsensitiveMatch),n[e]=t.extend(r,e&&i(e,r)),e){var o="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";n[o]=t.extend({redirectTo:e},i(o,r))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(i,a,o,s,l,u,c){function f(e){var n=y.current;(m=(g=p())&&n&&g.$$route===n.$$route&&t.equals(g.pathParams,n.pathParams)&&!g.reloadOnSearch&&!v)||!n&&!g||i.$broadcast("$routeChangeStart",g,n).defaultPrevented&&e&&e.preventDefault()}function d(){var e=y.current,n=g;m?(e.params=n.params,t.copy(e.params,o),i.$broadcast("$routeUpdate",e)):(n||e)&&(v=!1,(y.current=n)&&n.redirectTo&&(t.isString(n.redirectTo)?a.path(h(n.redirectTo,n.params)).search(n.params).replace():a.url(n.redirectTo(n.pathParams,a.path(),a.search())).replace()),s.when(n).then(function(){if(n){var i,a,e=t.extend({},n.resolve);return t.forEach(e,function(i,n){e[n]=t.isString(i)?l.get(i):l.invoke(i,null,null,n)}),t.isDefined(i=n.template)?t.isFunction(i)&&(i=i(n.params)):t.isDefined(a=n.templateUrl)&&(t.isFunction(a)&&(a=a(n.params)),t.isDefined(a)&&(n.loadedTemplateUrl=c.valueOf(a),i=u(a))),t.isDefined(i)&&(e.$template=i),s.all(e)}}).then(function(a){n==y.current&&(n&&(n.locals=a,t.copy(n.params,o)),i.$broadcast("$routeChangeSuccess",n,e))},function(t){n==y.current&&i.$broadcast("$routeChangeError",n,e,t)}))}function p(){var i,r;return t.forEach(n,function(n,o){var s;if(s=!r){var l=a.path();s=n.keys;var u={};if(n.regexp)if(l=n.regexp.exec(l)){for(var c=1,f=l.length;f>c;++c){var d=s[c-1],p=l[c];d&&p&&(u[d.name]=p)}s=u}else s=null;else s=null;s=i=s}s&&(r=e(n,{params:t.extend({},a.search(),i),pathParams:i}),r.$$route=n)}),r||n[null]&&e(n[null],{params:{},pathParams:{}})}function h(e,i){var n=[];return t.forEach((e||"").split(":"),function(e,t){if(0===t)n.push(e);else{var a=e.match(/(\w+)(?:[?*])?(.*)/),r=a[1];n.push(i[r]),n.push(a[2]||""),delete i[r]}}),n.join("")}var g,m,v=!1,y={routes:n,reload:function(){v=!0;var e={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0,v=!1}};i.$evalAsync(function(){f(e),e.defaultPrevented||d()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw r("norout");e=t.extend({},this.current.params,e),a.path(h(this.current.$$route.originalPath,e)),a.search(e)}};return i.$on("$locationChangeStart",f),i.$on("$locationChangeSuccess",d),y}]}),r=t.$$minErr("ngRoute");a.provider("$routeParams",function(){this.$get=function(){return{}}}),a.directive("ngView",i),a.directive("ngView",n),i.$inject=["$route","$anchorScroll","$animate"],n.$inject=["$compile","$controller","$route"]}(window,window.angular);
